// const collection = fetch('../src/data.json')
//     .then(res => res.json())
//     .then(data => console.log(data))

const collection = {
    "projects": [
      {
        "abstract": "Warne played his first Test match in 1992 and took more than 1,000 wickets in Tests and One Day Internationals (ODIs).[5] Warne's 708 Test wickets was the record for the most wickets taken by any bowler in Test cricket until 2007.[6] He was named one of the Wisden Cricketers of the Year in the 1994 Wisden Cricketers' Almanack,[7] and was the Wisden Leading Cricketer in the World in 1997 and 2004.",
        "author": "Sigmund Freud",
        "author_id": "user_0",
        "category": ["Deep Learning", "Data Mining"],
        "collaborators": {
          "user_1": "Yash Kadulkar",
          "user_2": "Mihir Bist",
          "user_3": "Tanish Mohanty"
        },
        "college": "Vidyalankar Institute of Technology",
        "description": "Lorem ipsum dolor sit amet consectetur adipisicing elit. Culpa eos in voluptatem odio numquam facere incidunt, commodi esse. Consectetur at, in accusantium nemo possimus atque iusto corrupti facilis nostrum quos.",
        "problem": "A lot of data is collected by Arcane Gaming Co. everyday. Users often tend to do multiple actions which eventually gets tedious to handle manually and in turn analytics gets tougher. Build a system which will provide easy way of visualization and analytics for Arcane analysts.",
        "project_id": "project_0",
        "technology": ["Python", "TensorFlow"],
        "title": "Advanced Data Extraction Tool",
        "video-url": "https://www.youtube.com/watch?v=dvRZ1VYXMJ0"
      },
      {
        "abstract": "Neque fugiat ipsa reiciendis blanditiis perspiciatis beatae quas omnis, laborum iusto quia quae, voluptatibus deleniti nemo numquam dolore! Iusto blanditiis iure pariatur aliquam nostrum maxime quaerat et eaque suscipit voluptates, ipsa nihil hic quisquam, unde non, aut laudantium ducimus earum sed perferendis provident? Corrupti quibusdam similique earum delectus excepturi ut architecto adipisci asperiores, omnis accusantium natus est dolore exercitationem alias eos, minus fugit, dicta at facilis. Reprehenderit nisi accusantium nostrum laboriosam eaque asperiores quos aspernatur facere corrupti eligendi atque dolore et eum earum sequi obcaecati, nobis quaerat animi amet vero sit exercitationem neque?",
        "author": "Sanika Chavan",
        "author_id": "user_5",
        "category": ["Deep Learning", "Computer Vision", "Neural Network"],
        "collaborators": {
          "user_4": "Mrunal Golatkar",
          "user_6": "Janhavi Kalwar",
          "user_7": "John Doe"
        },
        "college": "Vidyalankar Institute of Technology",
        "description": "Eligendi atque dolore et eum earum sequi obcaecati, nobis quaerat animi amet vero sit exercitationem neque?",
        "problem": "A lot of data is collected by Arcane Gaming Co. everyday. Users often tend to do multiple actions which eventually gets tedious to handle manually and in turn analytics gets tougher. Build a system which will provide easy way of visualization and analytics for Arcane analysts.",
        "technology": ["Python", "TensorFlow", "OpenCV"],
        "project_id":"project_1",
        "title": "Gender Recognition System",
        "video-url": "https://www.youtube.com/watch?v=bAOdXTDuha8"
      },
      {
        "abstract": "Implementation of AES algorithm is not readily available. So we implemented the algorithm. We also worked on the efficiency of the algorithm where we often found bugs while decoding.",
        "author": "Vishal Samuel",
        "author_id": "user_9",
        "category": ["Cybersecurity", "Encryption"],
        "collaborators": {
          "user_8": "Laxman Das",
          "user_10": "Neeraj Patel",
          "user_11": "Navin Shah"
        },
        "college": "Sardar Patel Institute of Technology",
        "description": "AES - Advanced Encryption Standard Algorithm is the more popular and widely adopted symmetric encryption algorithm. Symmetric-key algorithms are algorithms for cryptography that use the same cryptographic keys for both encryption of plaintext and decryption of ciphertext. The keys may be identical or there may be a simple transformation to go between the two keys.",
        "problem": "A lot of data is collected by Arcane Gaming Co. everyday. Users often tend to do multiple actions which eventually gets tedious to handle manually and in turn analytics gets tougher. Build a system which will provide easy way of visualization and analytics for Arcane analysts.",
        "technology": ["ASP.Net", "C#", "SQL Server", "HTML", "CSS", "JScript"],
        "project_id":"project_2",
        "title": "AES Algorithm",
        "video-url": "https://www.youtube.com/watch?v=o-MZgVJP-rI"
      },
      {
        "abstract": "Cloning the system of Railway Booking System with additional features was the objective of this project",
        "author": "Umesh Shrivastav",
        "author_id": "user_12",
        "category": ["Web Development", "Cybersecurity"],
        "collaborators": {
          "user_13": "Neel Mane",
          "user_14": "Avinash Mistry",
          "user_15": "Nora Shetty"
        },
        "college": "Veermata Jijabai Technological Institute",
        "description": "IRCTC railway booking system clone",
        "problem": "A lot of data is collected by Arcane Gaming Co. everyday. Users often tend to do multiple actions which eventually gets tedious to handle manually and in turn analytics gets tougher. Build a system which will provide easy way of visualization and analytics for Arcane analysts.",
        "technology": ["ReactJs", "CSS", "Javascript", "MongoDB"],
        "project_id":"project_3",
        "title": "Railway Booking System",
        "video-url": "https://www.youtube.com/watch?v=o-MZgVJP-rI"
      }
    ],
  
    "universities": {
      "iitb": {
        "intro": "Amet doloribus consequuntur eum adipisci illo distinctio ea saepe sequi atque repudiandae quae corporis error est possimus, voluptate fugit fugiat enim eligendi cupiditate veritatis. Quis perspiciatis nostrum, nemo assumenda debitis enim expedita dolorum in!",
        "name": "IIT Bombay",
        "website": "https://iitb.ac.in/en"
      },
      "kjsom": {
        "intro": "Our dream, is to build a world class research and teaching institution, that is global in the reach of its ideas, and universal in its service. Welcome to our community.",
        "name": "K J Somaiya College of Engineering",
        "website": "https://kjsce.somaiya.edu/en"
      },
      "mum_univ": {
        "intro": "Aliquid incidunt, dolor similique, inventore a deleniti alias animi doloribus quia veritatis repudiandae at!",
        "name": "University of Mumbai",
        "website": "https://www.mu.ac.in/"
      },
      "spit": {
        "intro": "The institute is located in 47 acres of green campus at Andheri (W), the fastest growing suburb of Mumbai. The campus also houses four Bhavan's Institutions of great repute namely Bhavan's College (the arts, commerce and science college), Sardar Patel College of Engineering - Government aided Engineering college, S.P. Jain Institute of Management and Research, a management institute and A.H. Wadia, higher secondary school.",
        "name": "Sardar Patel Institute of Technology",
        "website": "https://www.spit.ac.in/"
      },
      "vitm": {
        "intro": "Vidyalankar offers a wide spectrum of co-curricular, extracurricular, and athletic opportunities in addition to academics, which stands on the pillars of many Student Clubs and Student Councils.",
        "name": "Vidyalankar Institute of Technology",
        "website": "https://www.vit.edu.in"
      },
      "vjti": {
        "intro": "To establish global leadership in the field of Technology and develop competent human resources for providing service to society",
        "name": "Veermata Jijabai Technological Institute",
        "website": "https://www.vjti.ac.in/"
      }
    }
  }
  
  
const processArray = arr => {
    return Object.values(arr).join(" ").toLowerCase()
}

const searchBar = document.getElementById('searchBar')

searchBar.addEventListener('keyup', (e) => {
    const query = e.target.value.toLowerCase();
    console.log(query);
    const filteredProj = collection.projects.filter((project) => {
        return (
            project.title.toLowerCase().includes(query) ||
            project.author.toLowerCase().includes(query) ||
            processArray(project.collaborators).includes(query) ||
            processArray(project.category).includes(query) ||
            processArray(project.technology).includes(query) 

        );
    });
    for(let project of filteredProj)
        console.log(project.title, Object.values(project.collaborators))
    // displayProject(filteredProj);
})

